{% load static %}
<div class="container-fluid px-2 px-md-4 py-3">
  <h1>Gestión de Administradores</h1>
  <hr class="mb-4" />
  <div class="card shadow-sm">
    <div
      class="card-header d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-2"
    >
      <h5 class="mb-0">Administradores</h5>
      <button
        class="btn btn-sm btn-primary"
        onclick="mostrarFormularioAgregar()"
      >
        Agregar Administrador
      </button>
    </div>
    <div class="card-body p-2 p-md-3">
      <div class="table-responsive">
        <table
          class="table table-striped table-hover align-middle mb-0"
          id="tabla-admins"
        >
          <thead class="table-light text-center">
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Correo</th>
              <th>Es Staff</th>
              <th>Superusuario</th>
              <th style="min-width: 140px">Acciones</th>
            </tr>
          </thead>
          <tbody class="text-center">
            {% for admin in administradores %}
            <tr id="admin-row-{{ admin.id }}">
              <td>{{ admin.first_name }}</td>
              <td>{{ admin.last_name }}</td>
              <td>{{ admin.email }}</td>
              <td>{% if admin.is_staff %}Sí{% else %}No{% endif %}</td>
              <td>{% if admin.is_superuser %}Sí{% else %}No{% endif %}</td>
              <td class="text-center">
                <button
                  class="btn btn-sm btn-warning me-1"
                  onclick="mostrarFormularioEditar({{ admin.id }})"
                >
                  Editar
                </button>
                <button
                  class="btn btn-sm btn-danger"
                  onclick="confirmarEliminar({{ admin.id }}, '{{ admin.get_full_name }}')"
                >
                  Eliminar
                </button>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="6" class="text-center p-3">
                No hay administradores registrados.
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
